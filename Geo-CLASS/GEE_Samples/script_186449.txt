/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var imageVisParam = {"opacity":1,"bands":["B6","B5","B4"],"min":139,"max":5500,"gamma":1},
    BareLand = /* color: #e3dd2f */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[114.49273109436035, -3.1627983300985636],
               [114.4940185546875, -3.1646837273063824],
               [114.49487686157227, -3.164083828566803],
               [114.49350357055664, -3.1620270302526032]]],
             [[[114.44887161254883, -3.1328886171794132],
               [114.4504165649414, -3.135288281947587],
               [114.45110321044922, -3.1348597707854795],
               [114.44938659667969, -3.1322029976636583]]],
             [[[113.27908515930176, -2.9199826690069948],
               [113.27908515930176, -2.921054159124999],
               [113.28118801116943, -2.92173991226396],
               [113.2814884185791, -2.9209255803648224]]]]),
        {
          "class": 2,
          "name": "bare",
          "system:index": "0"
        }),
    Water = /* color: #005aff */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[114.14932250976562, -3.132288700127688],
               [114.15103912353516, -3.13331712914872],
               [114.16202545166016, -3.1235470126961906],
               [114.16082382202148, -3.1225185740917785]]],
             [[[114.05696868896484, -3.339839031230854],
               [114.05645370483398, -3.3422382057597924],
               [114.0681266784668, -3.341552727921426],
               [114.0681266784668, -3.339839031230854]]]]),
        {
          "class": 4,
          "name": "water",
          "system:index": "0"
        }),
    Vegetation = /* color: #6fb85d */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[114.11121368408203, -3.318588944243607],
               [114.10966873168945, -3.3204740511204838],
               [114.11138534545898, -3.3221877815223784],
               [114.11275863647461, -3.3199599314199433]]],
             [[[114.09627914428711, -3.3131049765238663],
               [114.09627914428711, -3.3148187197026973],
               [114.09799575805664, -3.315161467982259],
               [114.0985107421875, -3.3131049765238663]]],
             [[[114.06744003295898, -3.300080431502008],
               [114.0684700012207, -3.3012800677970304],
               [114.07087326049805, -3.300080431502008]]]]),
        {
          "class": 3,
          "name": "veg",
          "system:index": "0"
        }),
    Cloud = /* color: #c5c5c5 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[113.5810375213623, -2.91021063201096],
               [113.5810375213623, -2.9110678316329577],
               [113.58301162719727, -2.9113249913923958],
               [113.58309745788574, -2.910124912012902]]],
             [[[113.57880592346191, -2.9106392319034704],
               [113.57949256896973, -2.911667870980344],
               [113.58052253723145, -2.911496431199423]]],
             [[[113.61760139465332, -2.9027529678111],
               [113.6165714263916, -2.903781614078152],
               [113.61734390258789, -2.90429593686043]]],
             [[[113.61416816711426, -2.893666551820515],
               [113.61442565917969, -2.8943523216091203],
               [113.61614227294922, -2.8933236667706264],
               [113.61562728881836, -2.892466453692198]]]]),
        {
          "class": 5,
          "name": "cloud",
          "system:index": "0"
        }),
    Burn = /* color: #ff0000 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[113.77544403076172, -3.147886431564752],
               [113.77561569213867, -3.149686154802431],
               [113.77673149108887, -3.149943257868202],
               [113.77621650695801, -3.1478007303806286]]],
             [[[113.77655982971191, -3.143858468293456],
               [113.77570152282715, -3.1448011844964685],
               [113.77647399902344, -3.1458296012005356],
               [113.77750396728516, -3.1448011844964685]]],
             [[[113.73587608337402, -3.1453153929752977],
               [113.73587608337402, -3.1464295104760844],
               [113.73664855957031, -3.1462581078611533],
               [113.73673439025879, -3.14505828876758]]]]),
        {
          "class": 1,
          "name": "burn",
          "system:index": "0"
        }),
    Shadow = /* color: #555746 */ee.Feature(
        ee.Geometry.MultiPolygon(
            [[[[113.57451438903809, -2.8976097224361865],
               [113.57442855834961, -2.898809815115425],
               [113.57597351074219, -2.8995813025942523],
               [113.5763168334961, -2.898809815115425]]],
             [[[113.55348587036133, -2.9024100855139685],
               [113.55340003967285, -2.903438732093198],
               [113.5550308227539, -2.904038775498565],
               [113.55477333068848, -2.9027529678111]]],
             [[[113.20681571960449, -2.9072104282010875],
               [113.20672988891602, -2.90806763010409],
               [113.20853233337402, -2.908667671048572],
               [113.20870399475098, -2.907553309040456]]]]),
        {
          "class": 6,
          "name": "shadow",
          "system:index": "0"
        });
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var image=ee.Image('LANDSAT/LC08/C01/T1_SR/LC08_118062_20150819').select(['B2', 'B3', 'B4', 'B5', 'B6', 'B7','pixel_qa']);

var trainingArea = ee.FeatureCollection(Burn).merge(BareLand).merge(Vegetation).merge(Water).merge(Cloud).merge(Shadow);



Map.addLayer(image,imageVisParam,"TrainingImage");

Map.setCenter(114.0875, -2.8127, 10);





//generate group chart

var trainingFC = image.sampleRegions({

  collection: trainingArea,

  

  scale: 60

});



var title='Landsat SR Scatter Plot';

var minValue=0;

var maxValue=6000;

var pointSize=3;

var xAxisTitle='NIR(B5)';

var yAxisTitle='SWIR(B7)';





var chartSetting = {

      title: title,

      hAxis: {'title': xAxisTitle, 'minValue': minValue, 'maxValue': maxValue, 'viewWindow': {'max':  maxValue}},

      vAxis: {'title': yAxisTitle, 'minValue': minValue, 'maxValue': maxValue, 'viewWindow': {'max':  maxValue}},

      pointSize: pointSize,

      series: {

      0: {color: 'red'},//burn

      1: {color: 'yellow'},//bare

      2: {color: 'green'},//vegetation

      3: {color: 'blue'},//water

      4: {color: 'grey'},//cloud

      5: {color: 'black'}//shadow

      }

};

// Create the chart.

var trainingChart = ui.Chart.feature.groups(trainingFC, 'B5', 'B7', 'name')

    .setChartType('ScatterChart')

    .setOptions(chartSetting);



// Print the chart.

print(trainingChart);
